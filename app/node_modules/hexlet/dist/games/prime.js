'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _hexletPairs = require('hexlet-pairs');

var _ = require('..');

var _utils = require('../utils');

var _utils2 = _interopRequireDefault(_utils);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var rule = 'Answer "yes" if number prime otherwise answer "no".';

var valueRangeMin = 1;
var valueRangeMax = 30;

var isPrime = function isPrime(num) {
  if (num <= 1) {
    return false;
  }

  var iter = function iter(divider) {
    if (divider <= num / 2) {
      if (num % divider === 0) {
        return false;
      }
    } else {
      return true;
    }

    return iter(divider + 1);
  };

  return iter(2);
};

var askPrime = function askPrime() {
  var num = (0, _utils2.default)(valueRangeMin, valueRangeMax);
  var question = '' + num;
  var answer = isPrime(num) ? 'yes' : 'no';
  var game = (0, _hexletPairs.cons)(question, answer);
  return game;
};

var startPrimeGame = function startPrimeGame() {
  return (0, _.makeGame)(askPrime, rule);
};

exports.default = startPrimeGame;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9nYW1lcy9wcmltZS5qcyJdLCJuYW1lcyI6WyJydWxlIiwidmFsdWVSYW5nZU1pbiIsInZhbHVlUmFuZ2VNYXgiLCJpc1ByaW1lIiwibnVtIiwiaXRlciIsImRpdmlkZXIiLCJhc2tQcmltZSIsInF1ZXN0aW9uIiwiYW5zd2VyIiwiZ2FtZSIsInN0YXJ0UHJpbWVHYW1lIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFBQTs7QUFDQTs7QUFDQTs7Ozs7O0FBRUEsSUFBTUEsT0FBTyxxREFBYjs7QUFFQSxJQUFNQyxnQkFBZ0IsQ0FBdEI7QUFDQSxJQUFNQyxnQkFBZ0IsRUFBdEI7O0FBRUEsSUFBTUMsVUFBVSxTQUFWQSxPQUFVLENBQUNDLEdBQUQsRUFBUztBQUN2QixNQUFJQSxPQUFPLENBQVgsRUFBYztBQUNaLFdBQU8sS0FBUDtBQUNEOztBQUVELE1BQU1DLE9BQU8sU0FBUEEsSUFBTyxDQUFDQyxPQUFELEVBQWE7QUFDeEIsUUFBSUEsV0FBV0YsTUFBTSxDQUFyQixFQUF3QjtBQUN0QixVQUFJQSxNQUFNRSxPQUFOLEtBQWtCLENBQXRCLEVBQXlCO0FBQ3ZCLGVBQU8sS0FBUDtBQUNEO0FBQ0YsS0FKRCxNQUlPO0FBQ0wsYUFBTyxJQUFQO0FBQ0Q7O0FBRUQsV0FBT0QsS0FBS0MsVUFBVSxDQUFmLENBQVA7QUFDRCxHQVZEOztBQVlBLFNBQU9ELEtBQUssQ0FBTCxDQUFQO0FBQ0QsQ0FsQkQ7O0FBb0JBLElBQU1FLFdBQVcsU0FBWEEsUUFBVyxHQUFNO0FBQ3JCLE1BQU1ILE1BQU0scUJBQWVILGFBQWYsRUFBOEJDLGFBQTlCLENBQVo7QUFDQSxNQUFNTSxnQkFBY0osR0FBcEI7QUFDQSxNQUFNSyxTQUFTTixRQUFRQyxHQUFSLElBQWUsS0FBZixHQUF1QixJQUF0QztBQUNBLE1BQU1NLE9BQU8sdUJBQUtGLFFBQUwsRUFBZUMsTUFBZixDQUFiO0FBQ0EsU0FBT0MsSUFBUDtBQUNELENBTkQ7O0FBUUEsSUFBTUMsaUJBQWlCLFNBQWpCQSxjQUFpQjtBQUFBLFNBQU0sZ0JBQVNKLFFBQVQsRUFBbUJQLElBQW5CLENBQU47QUFBQSxDQUF2Qjs7a0JBRWVXLGMiLCJmaWxlIjoicHJpbWUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjb25zIH0gZnJvbSAnaGV4bGV0LXBhaXJzJztcbmltcG9ydCB7IG1ha2VHYW1lIH0gZnJvbSAnLi4nO1xuaW1wb3J0IGdlbmVyYXRlTnVtYmVyIGZyb20gJy4uL3V0aWxzJztcblxuY29uc3QgcnVsZSA9ICdBbnN3ZXIgXCJ5ZXNcIiBpZiBudW1iZXIgcHJpbWUgb3RoZXJ3aXNlIGFuc3dlciBcIm5vXCIuJztcblxuY29uc3QgdmFsdWVSYW5nZU1pbiA9IDE7XG5jb25zdCB2YWx1ZVJhbmdlTWF4ID0gMzA7XG5cbmNvbnN0IGlzUHJpbWUgPSAobnVtKSA9PiB7XG4gIGlmIChudW0gPD0gMSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IGl0ZXIgPSAoZGl2aWRlcikgPT4ge1xuICAgIGlmIChkaXZpZGVyIDw9IG51bSAvIDIpIHtcbiAgICAgIGlmIChudW0gJSBkaXZpZGVyID09PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgcmV0dXJuIGl0ZXIoZGl2aWRlciArIDEpO1xuICB9O1xuXG4gIHJldHVybiBpdGVyKDIpO1xufTtcblxuY29uc3QgYXNrUHJpbWUgPSAoKSA9PiB7XG4gIGNvbnN0IG51bSA9IGdlbmVyYXRlTnVtYmVyKHZhbHVlUmFuZ2VNaW4sIHZhbHVlUmFuZ2VNYXgpO1xuICBjb25zdCBxdWVzdGlvbiA9IGAke251bX1gO1xuICBjb25zdCBhbnN3ZXIgPSBpc1ByaW1lKG51bSkgPyAneWVzJyA6ICdubyc7XG4gIGNvbnN0IGdhbWUgPSBjb25zKHF1ZXN0aW9uLCBhbnN3ZXIpO1xuICByZXR1cm4gZ2FtZTtcbn07XG5cbmNvbnN0IHN0YXJ0UHJpbWVHYW1lID0gKCkgPT4gbWFrZUdhbWUoYXNrUHJpbWUsIHJ1bGUpO1xuXG5leHBvcnQgZGVmYXVsdCBzdGFydFByaW1lR2FtZTtcbiJdfQ==