'use strict';

Object.defineProperty(exports, "__esModule", {
  value: true
});

var _hexletPairs = require('hexlet-pairs');

var _ = require('..');

var _utils = require('../utils');

var _utils2 = _interopRequireDefault(_utils);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var rule = 'Answer "yes" if number prime otherwise answer "no".';

var valueRangeMin = 1;
var valueRangeMax = 30;

var isPrime = function isPrime(n) {
  if (n <= 1) {
    return false;
  }

  var iter = function iter(divider) {
    if (divider <= n / 2) {
      if (n % divider === 0) {
        return false;
      }
    } else {
      return true;
    }

    return iter(divider + 1);
  };

  return iter(2);
};

var askPrime = function askPrime() {
  var num = (0, _utils2.default)(valueRangeMin, valueRangeMax);
  var question = '' + num;
  var answer = isPrime(num) ? 'yes' : 'no';
  var game = (0, _hexletPairs.cons)(question, answer);
  return game;
};

var startPrimeGame = function startPrimeGame() {
  return (0, _.makeGame)(askPrime, rule);
};

exports.default = startPrimeGame;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uL3NyYy9nYW1lcy9icmFpbi1wcmltZS5qcyJdLCJuYW1lcyI6WyJydWxlIiwidmFsdWVSYW5nZU1pbiIsInZhbHVlUmFuZ2VNYXgiLCJpc1ByaW1lIiwibiIsIml0ZXIiLCJkaXZpZGVyIiwiYXNrUHJpbWUiLCJudW0iLCJxdWVzdGlvbiIsImFuc3dlciIsImdhbWUiLCJzdGFydFByaW1lR2FtZSJdLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7O0FBQ0E7O0FBQ0E7Ozs7OztBQUVBLElBQU1BLE9BQU8scURBQWI7O0FBRUEsSUFBTUMsZ0JBQWdCLENBQXRCO0FBQ0EsSUFBTUMsZ0JBQWdCLEVBQXRCOztBQUVBLElBQU1DLFVBQVUsU0FBVkEsT0FBVSxDQUFDQyxDQUFELEVBQU87QUFDckIsTUFBSUEsS0FBSyxDQUFULEVBQVk7QUFDVixXQUFPLEtBQVA7QUFDRDs7QUFFRCxNQUFNQyxPQUFPLFNBQVBBLElBQU8sQ0FBQ0MsT0FBRCxFQUFhO0FBQ3hCLFFBQUlBLFdBQVdGLElBQUksQ0FBbkIsRUFBc0I7QUFDcEIsVUFBSUEsSUFBSUUsT0FBSixLQUFnQixDQUFwQixFQUF1QjtBQUNyQixlQUFPLEtBQVA7QUFDRDtBQUNGLEtBSkQsTUFJTztBQUNMLGFBQU8sSUFBUDtBQUNEOztBQUVELFdBQU9ELEtBQUtDLFVBQVUsQ0FBZixDQUFQO0FBQ0QsR0FWRDs7QUFZQSxTQUFPRCxLQUFLLENBQUwsQ0FBUDtBQUNELENBbEJEOztBQW9CQSxJQUFNRSxXQUFXLFNBQVhBLFFBQVcsR0FBTTtBQUNyQixNQUFNQyxNQUFNLHFCQUFlUCxhQUFmLEVBQThCQyxhQUE5QixDQUFaO0FBQ0EsTUFBTU8sZ0JBQWNELEdBQXBCO0FBQ0EsTUFBTUUsU0FBU1AsUUFBUUssR0FBUixJQUFlLEtBQWYsR0FBdUIsSUFBdEM7QUFDQSxNQUFNRyxPQUFPLHVCQUFLRixRQUFMLEVBQWVDLE1BQWYsQ0FBYjtBQUNBLFNBQU9DLElBQVA7QUFDRCxDQU5EOztBQVFBLElBQU1DLGlCQUFpQixTQUFqQkEsY0FBaUI7QUFBQSxTQUFNLGdCQUFTTCxRQUFULEVBQW1CUCxJQUFuQixDQUFOO0FBQUEsQ0FBdkI7O2tCQUVlWSxjIiwiZmlsZSI6ImJyYWluLXByaW1lLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgY29ucyB9IGZyb20gJ2hleGxldC1wYWlycyc7XG5pbXBvcnQgeyBtYWtlR2FtZSB9IGZyb20gJy4uJztcbmltcG9ydCBnZW5lcmF0ZU51bWJlciBmcm9tICcuLi91dGlscyc7XG5cbmNvbnN0IHJ1bGUgPSAnQW5zd2VyIFwieWVzXCIgaWYgbnVtYmVyIHByaW1lIG90aGVyd2lzZSBhbnN3ZXIgXCJub1wiLic7XG5cbmNvbnN0IHZhbHVlUmFuZ2VNaW4gPSAxO1xuY29uc3QgdmFsdWVSYW5nZU1heCA9IDMwO1xuXG5jb25zdCBpc1ByaW1lID0gKG4pID0+IHtcbiAgaWYgKG4gPD0gMSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuXG4gIGNvbnN0IGl0ZXIgPSAoZGl2aWRlcikgPT4ge1xuICAgIGlmIChkaXZpZGVyIDw9IG4gLyAyKSB7XG4gICAgICBpZiAobiAlIGRpdmlkZXIgPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICByZXR1cm4gaXRlcihkaXZpZGVyICsgMSk7XG4gIH07XG5cbiAgcmV0dXJuIGl0ZXIoMik7XG59O1xuXG5jb25zdCBhc2tQcmltZSA9ICgpID0+IHtcbiAgY29uc3QgbnVtID0gZ2VuZXJhdGVOdW1iZXIodmFsdWVSYW5nZU1pbiwgdmFsdWVSYW5nZU1heCk7XG4gIGNvbnN0IHF1ZXN0aW9uID0gYCR7bnVtfWA7XG4gIGNvbnN0IGFuc3dlciA9IGlzUHJpbWUobnVtKSA/ICd5ZXMnIDogJ25vJztcbiAgY29uc3QgZ2FtZSA9IGNvbnMocXVlc3Rpb24sIGFuc3dlcik7XG4gIHJldHVybiBnYW1lO1xufTtcblxuY29uc3Qgc3RhcnRQcmltZUdhbWUgPSAoKSA9PiBtYWtlR2FtZShhc2tQcmltZSwgcnVsZSk7XG5cbmV4cG9ydCBkZWZhdWx0IHN0YXJ0UHJpbWVHYW1lO1xuIl19